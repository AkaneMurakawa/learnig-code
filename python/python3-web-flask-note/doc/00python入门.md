# 从编程思想中学Python

人生苦短，我用Python。 
编程的思想非常的伟大和奇妙，我把我所认为的编程思想写在了这里。这是我第一次教别人编程，笔记和思想上可能会有一些不足和错误之处，还望指正。

# Python3
python是一门**动态**的**强类型解释性**编程语言

### 关于编程需要知道的几个东西
1. 编译器，解释器
2. 编程语言都有自己的特性和语法，那这样的话编程语言就有分类。
一种按强类型和弱类型，一种静态语言和动态语言，一种是编译型语言和解释型语言。
3. 二进制，内存，引用(指针)(地址)

### Python的解释器
```shell
Python 3.7.3 (v3.7.3:ef4ec6ed12, Mar 25 2019, 21:26:53) [MSC v.1916 32 bit (Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

### Terminal / 终端 / shell
用于执行命令 

命令的格式：
```
命令 [参数可选] 目标(或者要执行的文件或目录)
```
**一些常用的命令**

```
cd: change directory
cd ..
cd .
cd /
pwd: print working directory
cls
ls [-a]

python xxx.py

mkdir
rm -rf /* 删除根目录下的所有文件
cat
zcat
grep
touch
vim
```

Q：文件和目录，文件夹的区别？

Q：绝对路径和相对路径？
A：绝对路径就是完整的路径，以根目录开始，而相对路径是相对于一个目录的路径。
```
绝对路径: /usr/bin/python3
相对路径: ./path
```

---

### 环境搭建
1. python3下载(开发环境)
2. 环境变量的配置

Q: 为什么要配置环境变量


### Pycharm的基本使用

1. 设置编码和字体， Source Code Pro / Consola
2. 其他可选设置：background，template，method separation
3. 快捷键：CTRL+ZXCVAS/D/FR/G
4. CTRL + SHIFT + ALT + C
```
D: duplicate
F: found
R: replace
G: go to line
```

### Python入门第一个程序
```python
#!/usr/bin/python3
 
print("Hello, Python!")
```
1. **设置编码**
2. 编写程序

**编写程序需要注意的东西**
1. 命名规范，不可以使用**关键字**，不能以数字开头。注意：命名的规范不只是说变量的命名合法就可以了，可是有一定的规则，比如驼峰法。

- [ ] setAge()
- [x] set_age()
- [ ] SetAge()

2. 严格的缩进
3. 注释，多行和单行注释
```python
'''
注释的内容
'''
# 注释的内容
```

**代码规范**
1. 比如变量的命名规则？函数的命名规则？文件的命名？
看看别人大神是怎么写的，比如可以到github去查找python项目
2. 模块的分布，比如说你不可能所有代码都写在一个文件，那你就需要按照一种规则是分布
3. 符号和字母之间，后面要加空格，前面不用。
```
1. 类名风格是class ServerHealthCheck():
2. 函数名风格是 def obtain_ip(self):
3. 变量名风格是 self, base_url, port, tcp
4. 文件名风格是 site_health.py
```
---

### 变量和数据类型
变量：用来存储和复用 ，有存储的空间(内容和地址)，还有类型。

**Python常用的数据类型**
```
Number
    bool: True、False
    int
    float
    complex
Str
List
Tuple
Set
Dict
```
* 不可变数据（3 个）：Number、String、Tuple
* 可变数据（3 个）：List、Dictionary、Set
Q: 什么是可变，什么是不可变，使用的时候需要注意什么地方？比如函数传递参数的时候，是值传递，还是引用传递(地址传递，指针传递)？

CRUD:增删改查(Create、Retrieve/Read、Update、Delete)

首先要学会的是遍历，然后是查询
### list []
1. insert和append的区别
2. del list[0] 和 list.remove() 和list.pop()区别？
3. list.clear()

### tuple ()
和list的区别？不可以改变
1.只可以访问

### dict \{key: value\}
1. 不允许有多相同的key，如果有则取最后一个
2. key不能被修改，换句话说：**key只能是Number、String、Tuple**
3. dict.keys()和dict.values()，使用的时候转换为list。
```
list(dict.keys())
```

### set
集合，说到集合其实我有想到了数学里面的集合，我们一般就是用来算并集，差集，交集之类的运算，在这里也是如此。
1. **集合是无序不重复的， 所以每次输出结果都可能不同**
2. set.add()和set.update())
3. set.remove()和set.discard()的区别？注意：**set.remove()如果删除的内容不存在则会报错，而set.discard()不会**
4. set.pop() 随机移除
5. set.union() 并集
6. set.intersection() 交集
7. set.difference() 差集
8. set.copy() 浅拷贝？Q: 什么是浅拷贝？什么是深拷贝?


**内建函数(built-in)**
Q: 那什么是内建函数？
Q: 函数是怎么调用？两种方式？
```
print('Hello World')

str_food = 'egg'
str_food.isdigit()
```

---

### 运算符
1. 算术运算符 +-*/% ** //...
2. 比较运算符 == != >= <>...
Q: == 和 = 的区别？
3. 赋值运算符 = += -= %= ...
4. 位运算符 & | ^ ~ << >>
注: 位运算符是把数字看作**二进制计算**
```
1 & 1 = 1
1 & 0 = 0

0 | 1 = 0 如果前面是False，则后面不用判断了
1 | 0 = 0
```
5. 逻辑运算符 and or not (&& | !)
逻辑: bool，值是True和False
6. 成员运算符 in 、not in
7. 身份运算符 is 、is not

**注意优先级，一般我们不去记，而是用()去使表达更清晰**

---

### 一些函数
```
print()
input() 注: 如果想转为int，要用函数去转换， int(input(''))
type()
len()
max()
min()

数学函数
随机函数
range()
```

### 转义和格式化输出
Q: 为什么要转义？
A: 因为有时候我们不喜欢直接输出，而是按照某种格式输出
```
\n
\t
\r
...
```
**格式化输出**
形式/语法:
```
('%?' % (告诉我?里的内容))

%d
%f
%c
%s

%x
%p
%o
0xffff 
```
补充：这是旧式的字符串格式化，我们可以用另一个格式化，那就是我们新的`format()`函数
```
'{}, {}'.formate(x, y)
```
Q: 十六进制的作用?
A: 简化二进制

跨行编写
```python
方法1:
para_str = """这是一个多行字符串的实例
多行字符串可以使用制表符
TAB ( \t )。
也可以使用换行符 [ \n ]。
"""

方法2:
para_str = '测试1' + /
           '测试2' + /
           '测试3'
```

---

### 条件控制和循环
Q: 为什么需要这个？
A: 有时候我们做一些事情需要判断才去做，所以要条件控制。而有时候可能会重复做一些事情，那么就需要循环。我们变量也是一个道理，有时候我们需要重复去使用，就会需要变量。
```
s = 3.14 * r * r
我们不可能每次都去写3.14 * r * r
```

#### if
语法:
```
if 条件表达式:
    内容

if-elif-else
注意: 条件表达式不能是=，这是赋值，不是条件表达式。还要冒号(:)不能省略
```
注意: **if可以没有else，但是有else一定要有if。if里面可以嵌套**

Q: 什么是嵌套？
Q: if-else和if-elif的区别?

#### 循环
语法:
```
方法1
while 条件表达式:
    内容
else:(可选)


方法2
for <variable> in <sequence>:
    内容
else:(可选)
```

**有趣的设计**
我们可以用一个flag去控制while，当满足条件的时候做什么或者不做什么

**循环里几个有趣的关键字**
break、continue、pass

---
### 迭代器和生成器
Q: 什么是迭代器？
Q: 为什么有迭代器？和for in 的区别是什么
iter():得到一个迭代器
next(迭代器):

---
### 函数
函数其实跟我们变量或者循环一样，目的是减少重复性。

语法:
```
def 函数名(参数):
    内容
    return 可选返回值，默认是None
```
**注意return不一定是写在最后一行，随便你写在函数体什么位置。return的意义是结束函数并选择返回值**

Q: 结束整个循环有哪些方式？
```
1. 设置flag，或者条件
2. break
3. 在函数里可以用return
4. exit()
5. ...
```

**函数参数**
1. 必须值
2. 关键字参数，其实就是说我们调用函数的时候指定参数名。
```python
def printinfo( name, age ):
   print ("名字: ", name)
   print ("年龄: ", age)
   return
 
printinfo(age=50, name='A')
```
3. 默认参数，因为有时候我们需要默认一些东西，比如一开始用户注册，有些东西是必填的，但是一开始用户可以选择填写，那我们就需要给一个默认值。
4. 可变参数
```python
def functionname([formal_args,] *var_args_tuple ):
注: var_args_tuple是tuple

def functionname([formal_args,] **var_args_dict ):
注: var_args_dict是dict

*args, **kwargs

```

**匿名函数**
lambda表达式
```
sum = lambda a, b: a + b
# 这个sum就是一个函数类型
# 接下来是函数调用的方式
sum(a, b)
```

**变量作用域**
1. 全局变量 Global
2. 局部变量 Local
3. 内置作用域 Built-in(内置函数所在模块的范围)
4. 闭包函数外的函数中 Enclosing

**一些关键字**
global
nonlocal(嵌套里面使用)
这两个都是使变量是全局

---
### 数据结构
Q: 什么是数据结构？
Q: 为什么需要数据结构？
A: 因为基本的数据类型，或者字符串，列表，元组，字典，集合不能够完全的表示一种数据，我们需要更复杂的数据类型，这就是我们所说的数据结构。我们应该去思考一下，我们在生活中遇到的一些问题或者数据又应该在编程中如何表示呢？存储和取出的时候又是如何可以按照我们所要求的规则呢？可以好好思考一下。

堆栈(Stack)
特点：FILO

队列(Queue)
特点：FIFO

用python实现堆栈、队列：
```
list.append() 入栈
list.pop() 出栈

list.appendleft() 入队
list.pop() 出队
```
Q:树和图，这两种数据结构怎么表示

---
### 模块和包
**模块**：其实就可以理解为我们写的python文件，然后可以思考一下每个文件里面有什么内容组成？当我们引入过来的时候，有点像是把里面的内容复制过来。
**包**：其实是我们的文件夹，因为我们有时候需要相同的命名，那如果同一个模块的名字一样，那就不知道是谁了，**而且同一个目录下也不允许两个文件命名和扩展名一样**。这时候我们就需要包了。就像我们有时候整理电脑一样，可能会命名同样的文件或者文件夹，但是放在不同的目录下。但是要注意的是，每一个包下都需要一个`__init__.py`文件

**Q: 如何取找到文件的呢？**
A: 绝对路径，当前路径。类似于我们的环境变量
```
两种导入的方式：
1. import 文件名(.py) 全部内容一起导入
2. from 文件名(.py) import 要导入的模块或者函数  导入指定的
注：这样的话就可以快一点

import test
from test import fib
```

### sys
```python
# for i in sys.argv:
#     print(i)
#
# print(sys.api_version)
# print(sys.copyright)
# print(sys.path)
# print(sys.exit())
```

Q: 模块导入的问题？就是引入其他模块的时候，默认是会执行的，但是这并不是我们所想要的。
示例：
```python
module1.py
a = 5
print("one")

module2.py
from module_one import *
print("two")

结果：
one
two
```
解决的方法：
在每一个模块里，其实Python解释器给我们提供了一个叫做`__name__`的变量，类型是：`<class 'str'>`。当其值是`__main__`时，表明在该模块自身运行。而如果是模块名字，那就是在引用程序执行。
```python
# main 主要的，也是我们编程界里所说的入口
if __name__ == '__main__':
    # 如果运行的入口是在这里，或者说运行这个文件，就会执行这个
    print('one run? yes')
else: # 这种情况其实就是文件名
    # 如果是被导入，就会执行这个
    print('one run? no')
```
---

### 文件
权限，只有三种: r、w、x 读写(修改)执行
execute

```
d rwx r-x r-x
目录 当前用户，所在组，其他组

角色，组
directory, read, write, execute
```

Q: 什么打开模式是在内容后添加，什么是删除全部内容重新添加？
A: 即原有内容会被删除: `w、wb、wb+、w+`
不会被删除的，而是在文件的结尾添加的：`a、ab、ab+、a+`(add)

Q: a和a+的区别？
![](https://www.runoob.com/wp-content/uploads/2013/11/2112205-861c05b2bdbc9c28.png)



|    模式    |  r   |  r+  |  w   |  w+  |  a   |  a+  |
| :--------: | :--: | :--: | :--: | :--: | :--: | :--: |
|     读     |  +   |  +   |      |  +   |      |  +   |
|     写     |      |  +   |  +   |  +   |  +   |  +   |
|    创建    |      |      |  +   |  +   |  +   |  +   |
|    覆盖    |      |      |  +   |  +   |      |      |
| 指针在开始 |  +   |  +   |  +   |  +   |      |      |
| 指针在结尾 |      |      |      |      |  +   |  +   |

**os（operating system）**

**Q**: 最后要关闭文件, file.close()， file是命名的文件对象



### 异常(Exception)

Q: 为什么会有异常？

A: 其实就是一些不合语法的操作或处理造成的。比如不能除以一个为0的数，这样是得不到结果的，就会抛出异常了。**但是，其实我们并不希望遇到什么异常都直接结束**

所以我们需要对异常进行处理

**关键字：**try、except

```python
try :
    
except:
    
finally:
    // 无论在任何情况下都会执行
    // 一般用来关闭文件啊
    // f.close()
        
```

注意的东西：

1. try-except有点像我们的if-else，先去尝试运行try里面的内容，如果有异常就会执行except的内容。**并且try后面的部分内容不会被执行**
2. 一个 try 语句可能包含多个except子句

**抛出异常**：raise



预定义清理行为，其实就是Python一些简便的写法，可以帮我们进行关闭。

```python
with open("myfile.txt") as f:
    for line in f:
        print(line, end="")
```

---

### 面向对象



**关键字**：class

```python
示例：
class 类名:
	属性(成员变量)
	成员方法(成员函数)
	构造方法 __init__(self)
```

* 构造方法是什么：该方法在**实例化**的时候会**自动调用**。

目的：就是用于初始化一些参数或者方法

* 类和对象的区别：

类就像是我们的一个模板，而对象是我们具体的，**实例化也就是我们所说的初始化。**

* 如何创建对象：直接类名(参数)，这里的参数就是我们构造方法的参数。

如果没有，就调用默认的，也就是无参。

  

  **Q: self是什么，有什么作用 ?**

  A: 类的方法与普通的函数只有一个特别的区别——它们必须有一个额外的**第一个参数名称**, 按照惯例它的名称是 self。

  **Q: self表示的是什么呢？**

  A: self代表类的实例，而不是类。类的实例其实就是我们的对象，代表当前对象的地址。



**方法重写(覆盖)- override**

就是父类的方法我们可以进行重写，函数名字和参数一样，只是内容我们可以去改变。

​	

<font color='red'>私有属性和方法</font>

Q：什么是私有变量，有什么用？

A：声明为私有，**只能在类的内部调用 ，不能在类的外部调用。**目的：增加了使用的权限，为了安全性，和很棒的设计思想。

```
__name
__password
声明为私有只需要在前面加__
```

**如果我声明了私有之后，就只能在类的内部访问，但是如果我们还想让使用者可以查看或者修改，我们就可以写一个set或者get方法，然后给使用者调用**

注意：在python里面喜欢用`__init__`表示，就是在后面也加__，**但是我们不可以这样去做。**

```
__name__
__password__
这样是错的，这的话还是公有的，只有在前面加__而后面不加才是私有的
```



<font color='red'>运算符的重载(overload)</font>

首先，在我们的基本数据类型中，比如Number类型，或者str类型啊，都可以进行`+ - * / `之类的操作，这些`+ - * /`就是我们的运算符。那么我们的类也是一样的，可以进行加减乘除之类的运算符操作，**只不过的是我们需要重写这些运算符操作的方法**



Q: 面向对象的特点？

A: 一种是面向对象编程，一种是面向过程编程。比如说C语言就是面向过程的一门语言，而Python和Java就是面向对象的编程语言。**面向对象的四大基本特征：封装、抽象、继承、多态**。也正是由于这几个特征，让我使用起来觉得特别舒服。那么下面来具体介绍一下。

封装：<strong>就是将对象封装成一个高度自治和相对封闭的个体。</strong>说的比较抽象，我来举个例子，比如一个学生，那这个学生的一些属性只能由自己提供的set和get的方法来操作。那这样就保证了安全性。

抽象：就是找出事物的一些共同特征，封装成一个类。像人就是抽象的。

继承：把已有的东西或者说类作为自己的内容，就相当于我们继承了父亲的财产。

多态：是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时不确定，<strong>只有在程序运行期间才确定。</strong>也就是父类或接口定义的引用变量指向了子类或具体的实现类的实例对象。<strong>关键点在于程序的调用方法是运行期动态绑定的。这个你可以研究一下重写和重载的区别，他们两个就发生在不同的时期</strong>至于这个编译器和运行期，在重写和重载的问题时我会再详细说一下，这个跟内存的分配，堆，栈结合起来会比较合适。

 

#### 继承

```
示例：
class 子类(父类):
```

注：子类一般也有人叫它派生类，而父类也有人叫它基类。

**注意的东西：**

1. 继承的时候，只需要在子类的后面加上括号，里面写父类的名称即可。可以多继承，只要在后加逗号(，)即可

2. 继承需要覆盖父类的`__init__`方法，那这个时候我们要先调用父类的`__init__`构造方法，示例如下：

   ```python
       def __init__(self, name, age, sex):
           # 先调用父类构造方法
           Person.__init__(self, name, age)
           self.sex = sex
   ```

3. 在子类中如何调用父类的东西？答：只要通过父类名然后点(.)去调用即可，但是要注意的是，每一个调用都需要带上一个**self参数**

```python
    def to_string(self):
    # 注意，这里的to_string是父类的方法，我们调用要加上self参数
    return Person.to_string(self) + ', sex:{}'.format(self.sex)
```

4. 我们需要改写的方法，那我们就重写(覆盖)父类的方法，我们也可以增加属于自己的方法。

5. 定义为私有，子类无法访问


练习：[菜鸟教程练习题](https://www.runoob.com/python3/python3-examples.html)





